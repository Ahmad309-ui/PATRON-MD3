const a69_0x51abd6=a69_0x133d;function a69_0x2291(){const _0x45ec1e=['GvEmH','7252210QcNxyc','get','app.json','KENcN','JtPUW','rMErG','fgYTX','.json','INTEGER','29710779mPjPGR','join','IVYJt','update','Updating\x20PATRON-MD','1842910BpQXhI','rmSync','krzjh','commitHash','UpdateInfo','qkzyx','4762611QOoave','update.db','fFekt','save','isDirectory','exports','Update\x20error:','data','PATRON-MD3-main','LOPPh','findByPk','upgrade','.env','lstatSync','JTeFE','resolve','path','Checking\x20PATRON-MD','existsSync','eTikp','MDLST','pYiUQ','envyt','âœ…\x20Updated!\x20Restarting\x20now...','UWMXT','temp_update','NgqkF','UbiBJ','mkdirSync','Already\x20latest\x20version','exit','arraybuffer','Owner','adm-zip','chat','STRING','QaNnN','8729682lqHsDB','Update\x20failed','VYfUZ','endsWith','readdirSync','sync','sqlite','vKSzo','MFGwB','create','unknown','copyFileSync','935959XtMylb','248168wjUYPI','PwWhS','wdOMP','sha','update_info','key'];a69_0x2291=function(){return _0x45ec1e;};return a69_0x2291();}(function(_0xf7fa59,_0x170bc8){const _0x13457b=a69_0x133d,_0x256854=_0xf7fa59();while(!![]){try{const _0x3f3e28=-parseInt(_0x13457b(0xa7))/0x1+-parseInt(_0x13457b(0xbd))/0x2+-parseInt(_0x13457b(0xc3))/0x3+parseInt(_0x13457b(0xa8))/0x4+parseInt(_0x13457b(0xaf))/0x5+-parseInt(_0x13457b(0xe8))/0x6+parseInt(_0x13457b(0xb8))/0x7;if(_0x3f3e28===_0x170bc8)break;else _0x256854['push'](_0x256854['shift']());}catch(_0x460a33){_0x256854['push'](_0x256854['shift']());}}}(a69_0x2291,0xd1397));function a69_0x133d(_0xd21410,_0x571f83){const _0x229107=a69_0x2291();return a69_0x133d=function(_0x133da3,_0x1cc3b9){_0x133da3=_0x133da3-0x9e;let _0x9e8a87=_0x229107[_0x133da3];return _0x9e8a87;},a69_0x133d(_0xd21410,_0x571f83);}const axios=require('axios'),fs=require('fs'),path=require(a69_0x51abd6(0xd3)),AdmZip=require(a69_0x51abd6(0xe4)),{Sequelize,DataTypes}=require('sequelize');module[a69_0x51abd6(0xc8)]={'command':a69_0x51abd6(0xbb),'alias':[a69_0x51abd6(0xce),a69_0x51abd6(0xa0)],'description':'Update\x20the\x20bot\x20to\x20the\x20latest\x20version.','category':a69_0x51abd6(0xe3),'filename':__filename,async 'execute'(_0x5384f5,{ednut:_0x3fd9dc,reply:_0x581d49,isOwner:_0x22085e}){const _0x635c19=a69_0x51abd6,_0x5a2552={'UbiBJ':_0x635c19(0xa5),'NgqkF':function(_0x3ff9f6,_0x215020){return _0x3ff9f6(_0x215020);},'VYfUZ':'*ðŸ“›\x20This\x20command\x20is\x20restricted\x20to\x20owners\x20only.*','MDLST':_0x635c19(0xa1),'krzjh':_0x635c19(0xc4),'PwWhS':_0x635c19(0xc1),'IVYJt':_0x635c19(0xac),'MFGwB':function(_0x59e26a,_0xb6fa30){return _0x59e26a(_0xb6fa30);},'UWMXT':_0x635c19(0xd4),'QaNnN':function(_0x1bd265){return _0x1bd265();},'LOPPh':function(_0x5e368e,_0x249758){return _0x5e368e===_0x249758;},'envyt':function(_0x1aeebc,_0x42f291,_0x1e5a30){return _0x1aeebc(_0x42f291,_0x1e5a30);},'JTeFE':_0x635c19(0xe0),'pYiUQ':_0x635c19(0xbc),'rMErG':'update_temp.zip','CMQyV':_0x635c19(0xe2),'wdOMP':_0x635c19(0xcb),'eTikp':function(_0x3dae10,_0x526ea0){return _0x3dae10(_0x526ea0);},'vKSzo':function(_0x3b24b6,_0x5802d8,_0x10c78d){return _0x3b24b6(_0x5802d8,_0x10c78d);},'qkzyx':_0x635c19(0xda),'fFekt':function(_0x2d979e,_0x462de8){return _0x2d979e(_0x462de8);},'KENcN':_0x635c19(0xe9)};if(!_0x22085e)return _0x5a2552[_0x635c19(0xdd)](_0x581d49,_0x5a2552[_0x635c19(0xea)]);await _0x3fd9dc['sendMessage'](_0x5384f5[_0x635c19(0xe5)],{'react':{'text':'ðŸ”„','key':_0x5384f5[_0x635c19(0xad)]}});const _0x1c5e3c=(_0x3db2dc,_0x389b30)=>'*'+_0x389b30+'\x20å„\x20'+_0x3db2dc+'\x20å„\x20'+_0x389b30+'*',_0x3fbd9f=_0x3cd8fc=>new Promise(_0x1ff78d=>setTimeout(_0x1ff78d,_0x3cd8fc)),_0x40c960=new Sequelize({'dialect':_0x5a2552[_0x635c19(0xd7)],'storage':path['join'](__dirname,_0x5a2552[_0x635c19(0xbf)]),'logging':![]}),_0x3ded25=_0x40c960['define'](_0x5a2552[_0x635c19(0xa9)],{'id':{'type':DataTypes[_0x635c19(0xb7)],'primaryKey':!![],'autoIncrement':![],'defaultValue':0x1},'commitHash':{'type':DataTypes[_0x635c19(0xe6)],'allowNull':![]}},{'tableName':_0x5a2552[_0x635c19(0xba)],'timestamps':![]});await _0x3ded25['sync']();async function _0x138a96(){const _0x54b0a2=_0x635c19,_0x4425db=await _0x3ded25[_0x54b0a2(0xcd)](0x1);return _0x4425db?_0x4425db[_0x54b0a2(0xc0)]:_0x5a2552[_0x54b0a2(0xde)];}async function _0x1505e6(_0x35a58e){const _0x5263ae=_0x635c19;let _0x336d67=await _0x3ded25[_0x5263ae(0xcd)](0x1);if(!_0x336d67)_0x336d67=await _0x3ded25[_0x5263ae(0xa4)]({'id':0x1,'commitHash':_0x35a58e});else _0x336d67['commitHash']=_0x35a58e;await _0x336d67[_0x5263ae(0xc6)]();}try{await _0x5a2552[_0x635c19(0xa3)](_0x581d49,_0x1c5e3c(_0x5a2552[_0x635c19(0xdb)],'ðŸ”'));const {data:_0x4f16d4}=await axios[_0x635c19(0xb0)]('https://api.github.com/repos/Itzpatron/PATRON-MD3/commits/main'),_0x4144ee=await _0x5a2552[_0x635c19(0xe7)](_0x138a96);if(_0x5a2552[_0x635c19(0xcc)](_0x4144ee,_0x4f16d4[_0x635c19(0xab)]))return _0x5a2552[_0x635c19(0xa3)](_0x581d49,_0x5a2552[_0x635c19(0xd9)](_0x1c5e3c,_0x5a2552[_0x635c19(0xd1)],'âœ…'));await _0x581d49(_0x1c5e3c(_0x5a2552[_0x635c19(0xd8)],'âš¡'));const _0x5995c6=path[_0x635c19(0xd2)](__dirname,'..','..'),_0x1d8d1b=path['join'](_0x5995c6,_0x5a2552[_0x635c19(0xb4)]),_0x3290d8=path[_0x635c19(0xb9)](_0x5995c6,_0x635c19(0xdc));fs['writeFileSync'](_0x1d8d1b,(await axios[_0x635c19(0xb0)]('https://github.com/Itzpatron/PATRON-MD3/archive/main.zip',{'responseType':_0x5a2552['CMQyV']}))[_0x635c19(0xca)]),new AdmZip(_0x1d8d1b)['extractAllTo'](_0x3290d8,!![]),copyFolderSync(path[_0x635c19(0xb9)](_0x3290d8,_0x5a2552[_0x635c19(0xaa)]),_0x5995c6),await _0x5a2552[_0x635c19(0xa3)](_0x1505e6,_0x4f16d4[_0x635c19(0xab)]),fs['unlinkSync'](_0x1d8d1b),fs[_0x635c19(0xbe)](_0x3290d8,{'recursive':!![]}),await _0x5a2552['eTikp'](_0x581d49,_0x5a2552[_0x635c19(0xa2)](_0x1c5e3c,_0x5a2552[_0x635c19(0xc2)],'ðŸ”„')),await _0x5a2552[_0x635c19(0xd6)](_0x3fbd9f,0x3e8),process[_0x635c19(0xe1)](0x0);}catch(_0x3e4f6a){console['error'](_0x635c19(0xc9),_0x3e4f6a),_0x5a2552[_0x635c19(0xc5)](_0x581d49,_0x5a2552[_0x635c19(0xa2)](_0x1c5e3c,_0x5a2552[_0x635c19(0xb2)],'âŒ'));}}};function copyFolderSync(_0x337e27,_0xfa48e3){const _0xd1598=a69_0x51abd6,_0x2d31ec={'fgYTX':'config.js','GvEmH':_0xd1598(0xb1),'JtPUW':_0xd1598(0xcf),'hhGFX':_0xd1598(0xb6),'ZrMkZ':function(_0xf40422,_0x950f90,_0x4cf1ce){return _0xf40422(_0x950f90,_0x4cf1ce);}};if(!fs[_0xd1598(0xd5)](_0x337e27))return;fs[_0xd1598(0xd5)](_0xfa48e3)||fs[_0xd1598(0xdf)](_0xfa48e3,{'recursive':!![]}),fs[_0xd1598(0x9f)](_0x337e27)['forEach'](_0x41a3ed=>{const _0x390dcd=_0xd1598,_0x5c224d=path['join'](_0x337e27,_0x41a3ed),_0x19e38f=path[_0x390dcd(0xb9)](_0xfa48e3,_0x41a3ed),_0x3bfda1=[_0x2d31ec[_0x390dcd(0xb5)],_0x2d31ec[_0x390dcd(0xae)],_0x2d31ec[_0x390dcd(0xb3)]],_0x12d171=_0x41a3ed[_0x390dcd(0x9e)](_0x2d31ec['hhGFX']);if(_0x3bfda1['includes'](_0x41a3ed)||_0x12d171)return;fs[_0x390dcd(0xd0)](_0x5c224d)[_0x390dcd(0xc7)]()?_0x2d31ec['ZrMkZ'](copyFolderSync,_0x5c224d,_0x19e38f):fs[_0x390dcd(0xa6)](_0x5c224d,_0x19e38f);});}